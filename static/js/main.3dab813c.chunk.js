(this.webpackJsonpalgohall=this.webpackJsonpalgohall||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return g}));var a=n(15),c=n(44),r=n.n(c),s="",o="https://testnet-api.algonode.network/",i="",l="",u="https://testnet-idx.algonode.network/",d="",b=new a.a.Algodv2(s,o,i),j=new a.a.Indexer(l,u,d),p=new r.a({timeout:1e8}),f=25556983,h="algohall:ui1",O=0,m=0,x=2,v=9,g=6},14:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(12),c=n(22),r=n.n(c),s=function(t){return e.from(t,"base64").toString("utf-8")},o=function(t){return e.from(t,"utf8").toString("base64")},i=function(e){if(e)return e.slice(0,5)+"..."+e.slice(e.length-5,e.length)},l=function(e){if(e)return new r.a(e).shiftedBy(-a.a).toFixed(3)},u=function(e){if(e)return new r.a(e).shiftedBy(a.a).toNumber()}}).call(this,n(2).Buffer)},20:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return m}));var a=n(10),c=n(3),r=n(6),s=n(1),o=n(0),i=n(15),l=n(12),u=n(45),d=n(46),b=n(14),j=Object(s.a)((function e(t,n,a,c,r,s,i,l){Object(o.a)(this,e),this.slug=t,this.title=n,this.content=a,this.thumbnail=c,this.author=r,this.datePublished=s,this.coffeeCount=i,this.appId=l})),p=function(){var t=Object(r.a)(Object(c.a)().mark((function t(n){var a,r,s;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new TextEncoder,r=a.encode(n),t.next=4,l.b.compile(r).do();case 4:return s=t.sent,t.abrupt("return",new Uint8Array(e.from(s.result,"base64")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,n){var a,r,s,o,b,j,f,h,O,m,x,v,g,w;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.b.getTransactionParams().do();case 2:return a=e.sent,e.next=5,p(u.a);case 5:return r=e.sent,e.next=8,p(d.a);case 8:return s=e.sent,o=(new TextEncoder).encode(l.c),b=(new TextEncoder).encode(n.slug),j=(new TextEncoder).encode(n.title),f=(new TextEncoder).encode(n.content),h=(new TextEncoder).encode(n.thumbnail),O=[b,j,f,h],m=i.a.makeApplicationCallTxnFromObject({from:t,suggestedParams:a,onComplete:i.a.OnApplicationComplete.NoOpOC,approvalProgram:r,clearProgram:s,numLocalInts:l.j,numLocalByteSlices:l.i,numGlobalInts:l.h,numGlobalByteSlices:l.g,note:o,appArgs:O}),x=m.txID().toString(),e.next=19,l.f.signTransaction(m.toByte());case 19:return v=e.sent,e.next=22,l.b.sendRawTransaction(v.blob).do();case 22:return e.next=24,i.a.waitForConfirmation(l.b,x,4);case 24:return e.sent,e.next=27,l.b.pendingTransactionInformation(x).do();case 27:return g=e.sent,w=g["application-index"],e.abrupt("return",w);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,n,a){var r,s,o,u,d,j,p,f,h,O,m;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.b.getTransactionParams().do();case 2:for(r=e.sent,s=(new TextEncoder).encode("buyCoffee"),o=i.a.encodeUint64(Number(a)),u=[s,o],d=i.a.makeApplicationCallTxnFromObject({from:t,appIndex:Number(n.appId),onComplete:i.a.OnApplicationComplete.NoOpOC,suggestedParams:r,appArgs:u}),j=i.a.makePaymentTxnWithSuggestedParamsFromObject({from:t,to:n.author,amount:Object(b.c)(a),suggestedParams:r}),p=[d,j],f=i.a.computeGroupID(p),h=0;h<2;h++)p[h].group=f;return e.next=13,l.f.signTransaction(p.map((function(e){return e.toByte()})));case 13:return O=e.sent,e.next=16,l.b.sendRawTransaction(O.map((function(e){return e.blob}))).do();case 16:return m=e.sent,e.next=19,i.a.waitForConfirmation(l.b,m.txId,4);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),O=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var n,r,s,o,i,u,d,b,j;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new TextEncoder).encode(l.c),r=e.from(n).toString("base64"),t.next=4,l.d.searchForTransactions().notePrefix(r).txType("appl").minRound(l.e).do();case 4:s=t.sent,o=[],i=Object(a.a)(s.transactions),t.prev=7,i.s();case 9:if((u=i.n()).done){t.next=19;break}if(d=u.value,!(b=d["created-application-index"])){t.next=17;break}return t.next=15,m(b);case 15:(j=t.sent)&&o.push(j);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),i.e(t.t0);case 24:return t.prev=24,i.f(),t.finish(24);case 27:return t.abrupt("return",o);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var n,a,r,s,o,i,u,d,p,f,h,O,m,x,v,g;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.d.lookupApplications(t).includeAll(!0).do();case 3:for(n=e.sent,a=n.application.params["global-state"],r="",s="",o="",i="",u=n.application.params.creator,d="",p="",f=function(e,t){return t.find((function(t){return t.key===Object(b.e)(e)}))},h=0;h<100;h++)O=h.toString(),void 0!==f(O,a)&&(m=f(O,a).value.bytes,o+=Object(b.a)(m));return void 0!==f("SLUG",a)&&(x=f("SLUG",a).value.bytes,r=Object(b.a)(x)),void 0!==f("TITLE",a)&&(v=f("TITLE",a).value.bytes,s=Object(b.a)(v)),void 0!==f("THUMBNAIL",a)&&(g=f("THUMBNAIL",a).value.bytes,i=Object(b.a)(g)),void 0!==f("DATEPUBLISHED",a)&&(d=f("DATEPUBLISHED",a).value.uint),void 0!==f("COFFEECOUNT",a)&&(p=f("COFFEECOUNT",a).value.uint),e.abrupt("return",new j(r,s,o,i,u,d,p,t));case 22:return e.prev=22,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(2).Buffer)},45:function(e,t,n){"use strict";t.a='#pragma version 6\ntxn ApplicationID\nint 0\n==\nbnz main_l4\ntxna ApplicationArgs 0\nbyte "buyCoffee"\n==\nbnz main_l3\nerr\nmain_l3:\nbyte "COFFEECOUNT"\nbyte "COFFEECOUNT"\napp_global_get\ntxna ApplicationArgs 1\nbtoi\n+\napp_global_put\nint 1\nreturn\nmain_l4:\ntxn NumAppArgs\nint 4\n==\nassert\ntxn Note\nbyte "algohall:ui1"\n==\nassert\ntxna ApplicationArgs 2\ncallsub storecontent_1\nbyte "SLUG"\ntxna ApplicationArgs 0\napp_global_put\nbyte "TITLE"\ntxna ApplicationArgs 1\napp_global_put\nbyte "THUMBNAIL"\ntxna ApplicationArgs 3\napp_global_put\nbyte "AUTHOR"\ntxn Sender\napp_global_put\nbyte "DATEPUBLISHED"\nglobal LatestTimestamp\napp_global_put\nbyte "COFFEECOUNT"\nint 0\napp_global_put\nint 1\nreturn\n\n// convert_uint_to_bytes\nconvertuinttobytes_0:\nstore 7\nload 7\nint 0\n==\nbnz convertuinttobytes_0_l5\nbyte ""\nstore 8\nload 7\nstore 9\nconvertuinttobytes_0_l2:\nload 9\nint 0\n>\nbnz convertuinttobytes_0_l4\nload 8\nb convertuinttobytes_0_l6\nconvertuinttobytes_0_l4:\nload 9\nint 10\n%\nstore 10\nbyte "0123456789"\nload 10\nload 10\nint 1\n+\nsubstring3\nload 8\nconcat\nstore 8\nload 9\nint 10\n/\nstore 9\nb convertuinttobytes_0_l2\nconvertuinttobytes_0_l5:\nbyte "0"\nconvertuinttobytes_0_l6:\nretsub\n\n// store_content\nstorecontent_1:\nstore 0\nload 0\nlen\nstore 2\nint 0\nstore 1\nstorecontent_1_l1:\nload 1\nint 8\n<\nbz storecontent_1_l7\nload 1\ncallsub convertuinttobytes_0\nstore 6\nint 127\nload 1\n*\nstore 4\nload 2\nint 0\n==\nbnz storecontent_1_l7\nload 2\nint 127\n>\nbnz storecontent_1_l6\nload 2\nstore 3\nload 2\nload 3\n-\nstore 2\nstorecontent_1_l5:\nload 0\nload 4\nload 3\nextract3\nstore 5\nload 6\nload 5\napp_global_put\nload 1\nint 1\n+\nstore 1\nb storecontent_1_l1\nstorecontent_1_l6:\nload 2\nint 127\n-\nstore 2\nint 127\nstore 3\nb storecontent_1_l5\nstorecontent_1_l7:\nretsub'},46:function(e,t,n){"use strict";t.a="#pragma version 6\nint 1\nreturn"},51:function(e,t,n){},55:function(e,t){},77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(41),s=n.n(r),o=(n(51),n(3)),i=n(6),l=n(11),u=n(7),d=n(19),b=n(14),j=(n(77),n(4)),p=function(e){var t=e.balance,n=e.address,a=e.disconnect,c=Object(u.f)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"app__nav",children:[Object(j.jsx)("div",{className:"nav-logo",children:"AlgoHall"}),Object(j.jsxs)("div",{className:"nav-links",children:[Object(j.jsx)(d.b,{className:"nav-link",to:"/",children:"Home"}),n&&Object(j.jsx)(d.b,{className:"nav-link",to:"/write",children:"Write"})]}),Object(j.jsxs)("div",{className:"nav-end",children:[Object(j.jsxs)("div",{className:"nav-end--profile",children:[Object(b.d)(n)," | ",Object(b.b)(t)," ALGO"]}),Object(j.jsx)("div",{className:"nav-end--logout",onClick:function(){a(),c("/")},children:"Disconnect"})]})]})})},f=(n(79),function(){return Object(j.jsx)("div",{class:"container",children:Object(j.jsx)("span",{class:"spinner spinner--dotted"})})}),h=(n(80),n.p+"static/media/coffee_img.38659b77.png"),O=(n(81),n(20)),m=n(29),x=function(e){var t=e.address,n=e.fetchBalance,c=Object(a.useState)(1),r=Object(l.a)(c,2),s=r[0],d=r[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(),_=Object(l.a)(w,2),y=_[0],N=_[1],T=Object(u.g)().appId,k=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(O.d)(t,y,s).then((function(){n(t),A(),alert("Successfully tipped author")})).catch((function(e){return console.log("Error tipping author: "+e)})).finally((function(){return g(!1)}));case 3:console.log("Tipped author "+s+" Coffee");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(a.useCallback)(Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.t0=N,e.next=5,Object(O.c)(T);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),console.log(e.t2);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))));return Object(a.useEffect)((function(){A()}),[]),Object(j.jsx)(j.Fragment,{children:!v&&y?Object(j.jsx)("div",{className:"app__details",children:Object(j.jsxs)("div",{className:"details",children:[Object(j.jsx)("img",{src:y.thumbnail}),Object(j.jsxs)("div",{className:"details-meta-0",children:[Object(j.jsxs)("div",{className:"details-meta-1",children:[Object(j.jsx)("div",{className:"details-dp",children:new Date(1e3*y.datePublished).toLocaleString()}),Object(j.jsxs)("div",{className:"details-rt",children:[Object(m.readingTime)(y.content).minutes," mins read"]})]}),Object(j.jsxs)("div",{className:"details-author",children:["by ",Object(j.jsx)("span",{children:Object(b.d)(y.author)})]})]}),Object(j.jsx)("div",{className:"details-title",children:y.title}),Object(j.jsx)("div",{className:"details-details",children:y.content}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"details-lc",children:[Object(j.jsxs)("div",{className:"details-lc-1",children:[Object(j.jsx)("img",{src:h}),Object(j.jsx)("div",{children:y.coffeeCount})]}),Object(j.jsxs)("div",{className:"details-lc-2",children:[Object(j.jsxs)("span",{onClick:function(){return k()},children:["Buy author ",s," coffee"]}),Object(j.jsx)("input",{defaultValue:1,min:1,value:s,onChange:function(e){return d(e.target.value)}})]})]})]})}):Object(j.jsx)(f,{})})},v=n(88),g=(n(83),function(e){var t=e.address,n=c.a.useState(),r=Object(l.a)(n,2),s=r[0],d=r[1],b=Object(a.useState)(),p=Object(l.a)(b,2),f=p[0],h=p[1],m=Object(a.useState)(),x=Object(l.a)(m,2),g=x[0],w=x[1],_=Object(u.f)(),y=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){var n,a,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(v.a)(),a="".concat((r=f,r.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")),"-").concat(n),c={slug:a,title:f,content:g,thumbnail:s},!(String(f).length>126||String(s).length>126)){e.next=6;break}return alert("Title or thumbnail URL should be less than 126 characters"),e.abrupt("return");case 6:if(!(String(g).length>1e3)){e.next=9;break}return alert("Content should be less than 1000 words"),e.abrupt("return");case 9:return e.next=11,Object(O.a)(t,c).then((function(){_("/"),alert("Successfully created new blog")})).catch((function(e){return console.log("Error creating blog: "+e)}));case 11:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"app__write",children:Object(j.jsxs)("div",{className:"write",children:[Object(j.jsxs)("div",{className:"write-header",children:[Object(j.jsx)("img",{src:s,alt:"thumbnail image"}),Object(j.jsx)("input",{value:s,onChange:function(e){return d(e.target.value)},placeholder:"Enter thumbnail URL here (Less than 126 characters)"})]}),Object(j.jsxs)("div",{className:"write-edit",children:[Object(j.jsx)("input",{className:"write-title",placeholder:"Title here (Less than 126 characters)",value:f,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("textarea",{className:"write-content",placeholder:"Write any update about the Algorand blockchain. It can be about Pyteal, Reach, algosdk, etc. (Should be less than 1000 characters)",value:g,onChange:function(e){return w(e.target.value)}})]}),Object(j.jsx)("button",{className:"publish-btn",onClick:function(){return y()},children:"Post Update"})]})})})}),w=n.p+"static/media/algohall_cover.4e61b276.jpeg",_=(n(84),function(e){var t=e.connect;return Object(j.jsxs)("div",{className:"app__welcome",children:[Object(j.jsx)("div",{className:"welcome-title",children:Object(j.jsx)("span",{children:"Algo Hall"})}),Object(j.jsx)("div",{className:"welcome-sub",children:"The all-in-one platform to get all your updates on the Algorand blockchain"}),Object(j.jsx)("img",{height:"500px",width:"500px",style:{borderRadius:"30%"},src:w}),Object(j.jsxs)("div",{className:"welcome-text",children:["Please ",Object(j.jsx)("span",{onClick:function(){return t()},children:"Connect"})," your wallet to access this platform"]})]})}),y=(n(85),function(e){var t=e.connectWallet,n=e.address,c=Object(a.useState)(null),r=Object(l.a)(c,2),s=r[0],u=r[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),v=x[0],g=x[1],w=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(O.b)().then((function(e){u(e),console.log(e)})).catch((function(e){console.log(e),alert("Error getting blogs")})).finally((function(){g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w()}),[]),Object(j.jsx)(j.Fragment,{children:n?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"app__app",children:[Object(j.jsx)("h2",{className:"app-heading",children:"Recently Published Blogs"}),v?Object(j.jsx)(f,{}):Object(j.jsx)("div",{className:"app-body",children:null===s||void 0===s?void 0:s.map((function(e){return Object(j.jsxs)("div",{className:"preview",children:[Object(j.jsx)("img",{src:e.thumbnail}),Object(j.jsxs)("div",{className:"preview-meta-0",children:[Object(j.jsxs)("div",{className:"preview-meta-1",children:[Object(j.jsx)("div",{className:"preview-dp",children:new Date(1e3*e.datePublished).toDateString()}),Object(j.jsxs)("div",{className:"preview-rt",children:[Object(m.readingTime)(e.content).minutes," mins read"]})]}),Object(j.jsxs)("div",{className:"preview-author",children:["by ",Object(j.jsx)("span",{children:Object(b.d)(e.author)})]})]}),Object(j.jsx)("div",{className:"preview-title",children:Object(j.jsx)(d.b,{to:"/blog/".concat(e.appId),children:e.title})}),Object(j.jsx)("div",{className:"preview-preview",children:e.content}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"preview-lc",children:[Object(j.jsx)("img",{src:h}),Object(j.jsx)("div",{children:e.coffeeCount})]})]})}))})]})}):Object(j.jsx)(_,{connect:t})})}),N=n(12),T=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),b=s[0],f=s[1],h=Object(a.useState)(0),O=Object(l.a)(h,2),m=O[0],v=O[1],w=function(){var e=Object(i.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.d.lookupAccountByID(t).do().then((function(e){var t=e.account.amount;v(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.f.connect().then((function(e){var t=e[0];c(t.address),f(t.name),w(t.address)})).catch((function(e){console.log("Could not connect to MyAlgo wallet"),console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(p,{accName:b,balance:m,address:n,disconnect:function(){c(null),f(null),v(null)}}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/",element:Object(j.jsx)(y,{connectWallet:T,address:n})}),Object(j.jsx)(u.a,{path:"/write",element:Object(j.jsx)(g,{address:n})}),Object(j.jsx)(u.a,{path:"/welcome",element:Object(j.jsx)(_,{connect:T})}),Object(j.jsx)(u.a,{path:"/blog/:appId",element:Object(j.jsx)(x,{address:n,fetchBalance:w})})]})]})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.3dab813c.chunk.js.map